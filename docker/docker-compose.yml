version: "2.2"
services:
  signalk-server:
    image: signalk/signalk-server
    container_name: signalk-server
    restart: unless-stopped
    network_mode: host
#    environment:  # examples of ENV settings
#      - PORT=3000
#      - SSLPORT=3443
#      - NMEA0183PORT=10110
#      - TCPSTREAMPORT=8375
    volumes:
      - /dev:/dev/hostdev
#      - $PWD/signalk_conf:/home/node/.signalk  # uncomment and make signalk_conf -folder where .signalk is bind mounted
#      - type: bind  # uncomment these 3 lines to control startup.sh outside container (1/3)
#        source: $PWD/startup.sh  # (2/3)
#        target: /home/node/signalk/docker/startup.sh  # (3/3)
    entrypoint: sh /home/node/signalk/docker/startup.sh
    privileged: true
    logging:
      options:
        max-size: 10m
