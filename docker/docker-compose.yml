version: "2.2"
services:
  signalk-server:
    image: signalk/signalk-server
    container_name: signalk-server
    restart: unless-stopped
    network_mode: host 
#    network_mode: bridge    # (1/6) If bridge-mode is used, then comment line abobe (host) and select/add needed ENV settings
#    environment:    # (2/6)
#      - PORT=3000    # (3/6)
#      - SSLPORT=3443    # (4/6)
#      - NMEA0183PORT=10110    # (5/6)
#      - TCPSTREAMPORT=8375    # (6/6)
    volumes:
      - /dev:/dev/hostdev
#      - $PWD/signalk_conf:/home/node/.signalk    # uncomment and make signalk_conf -folder where .signalk is bind mounted
#      - type: bind    # (1/3) uncomment these 3 lines to control startup.sh outside container
#        source: $PWD/startup.sh    # (2/3)
#        target: /home/node/signalk/startup.sh    # (3/3)
    entrypoint: sh /home/node/signalk/startup.sh
    privileged: true
    logging:
      options:
        max-size: 10m
